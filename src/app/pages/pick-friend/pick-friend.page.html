<ion-content>

  <!-- Picking Friends Without Filter -->
  <ion-grid *ngIf="!isFilter" class="friends-container">
    <ion-list>
      <div>
        <ion-item
          *ngFor="let friend of friendsService._friends"
          color="light"
        >
          <ion-grid>
            <ion-row>
              <ion-col size="2">
                <ion-avatar>
                  <ion-img *ngIf="friend.imageUrl" [src]="friend.imageUrl"></ion-img>
                  <ion-img *ngIf="!friend.imageUrl && friendsService.isMale(friend.gender)" src="assets/images/Guy_Face.svg"></ion-img>
                  <ion-img *ngIf="!friend.imageUrl && !friendsService.isMale(friend.gender)" src="assets/images/DefaultProfileWoman.svg"></ion-img>
                </ion-avatar>
              </ion-col>
              <ion-col size="8.5">
                <ion-label>
                  <h4 *ngIf="friend.name && friend.name.length < 18">{{ friend.name }}</h4>
                  <h4 *ngIf="friend.name && friend.name.length >= 18">{{ friend.name.slice(0,18) }}...</h4>
                  <h4 *ngIf="!friend.name">
                    {{ friend.id.slice(0,12) }} <br>
                    {{ friend.id.slice(12,27) }}...
                  </h4>
                  <p>{{ friend.note}}<p>
                </ion-label>
              </ion-col>
              <ion-col size="1.5">
                <ion-checkbox
                  mode="ios"
                  value="friend"
                  [(ngModel)]="friend.isPicked"
                  [disabled]="isSingleInvite && singlePicked(false) && !friend.isPicked"
                >
                </ion-checkbox>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </div>
    </ion-list>

    <div class="footer">
      <did-button
        (click)="this.friendsService.inviteFriends(false)"
        [title]="'invite' | translate"
        textcolor="#ffffff"
        [bgcolor]="'#3ABAFB'"
        [bordercolor]="'#3ABAFB'"
        [padding]="'18px'"
        [shadow]="false"
        class="invite-btn"
      ></did-button>

      <did-button
        (click)="closeApp()"
        [title]="'cancel' | translate"
        textcolor="#ffffff"
        [bgcolor]="'#FF4D4D'"
        [bordercolor]="'#FF4D4D'"
        [padding]="'18px'"
        [shadow]="false"
      ></did-button>
    </div>
  </ion-grid>

  <!-- Picking Friends With Filter -->
  <ion-grid *ngIf="isFilter" class="friends-container">
    <ion-list>
      <div>
        <ion-item
          *ngFor="let friend of friendsService.filteredFriends"
          color="light"
        >
          <ion-grid>
            <ion-row>
              <ion-col size="2">
                <ion-avatar>
                  <ion-img *ngIf="friend.imageUrl" [src]="friend.imageUrl"></ion-img>
                  <ion-img *ngIf="!friend.imageUrl && friendsService.isMale(friend.gender)" src="assets/images/Guy_Face.svg"></ion-img>
                  <ion-img *ngIf="!friend.imageUrl && !friendsService.isMale(friend.gender)" src="assets/images/DefaultProfileWoman.svg"></ion-img>
                </ion-avatar>
              </ion-col>
              <ion-col size="8.5">
                <ion-label>
                  <h4 *ngIf="friend.name && friend.name.length < 18">{{ friend.name }}</h4>
                  <h4 *ngIf="friend.name && friend.name.length >= 18">{{ friend.name.slice(0,18) }}...</h4>
                  <h4 *ngIf="!friend.name">
                    {{ friend.id.slice(0,12) }} <br>
                    {{ friend.id.slice(12,27) }}...
                  </h4>
                  <p>{{ friend.note}}<p>
                </ion-label>
              </ion-col>
              <ion-col size="1.5">
                <ion-checkbox
                  mode="ios"
                  value="friend"
                  [(ngModel)]="friend.isPicked"
                  [disabled]="isSingleInvite && singlePicked(true) && !friend.isPicked"
                >
                </ion-checkbox>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </div>
    </ion-list>

    <div class="footer">
      <did-button
        (click)="this.friendsService.inviteFriends(true)"
        [title]="'invite' | translate"
        textcolor="#ffffff"
        [bgcolor]="'#3ABAFB'"
        [bordercolor]="'#3ABAFB'"
        [padding]="'18px'"
        [shadow]="false"
        class="invite-btn"
      ></did-button>

      <did-button
        (click)="closeApp()"
        [title]="'cancel' | translate"
        textcolor="#ffffff"
        [bgcolor]="'#FF4D4D'"
        [bordercolor]="'#FF4D4D'"
        [padding]="'18px'"
        [shadow]="false"
      ></did-button>
    </div>
  </ion-grid>
</ion-content>
